{"ast":null,"code":"var _jsxFileName = \"/Users/brianbrown/Documents/AIDataVizApp/MapData/frontend/src/components/MapComponent.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, GeoJSON, useMapEvents } from 'react-leaflet';\n// Import TopoJSON data\nimport statesTopoJSON from '../data/us-states.json';\nimport countiesTopoJSON from '../data/us-counties.json';\n// Import conversion utilities\nimport { convertTopoToGeoStates, convertTopoToGeoCounties } from '../data/geoUtils';\n\n// Component to handle zoom events and control county visibility\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ZoomHandler({\n  setShowCounties\n}) {\n  _s();\n  const mapEvents = useMapEvents({\n    zoomend: () => {\n      const currentZoom = mapEvents.getZoom();\n      setShowCounties(currentZoom >= 6);\n    }\n  });\n  return null;\n}\n_s(ZoomHandler, \"zj0tpqBiVyCrUJI2Y40fUpSivAw=\", false, function () {\n  return [useMapEvents];\n});\n_c = ZoomHandler;\nfunction MapComponent() {\n  _s2();\n  const [statesData, setStatesData] = useState(null);\n  const [countiesData, setCountiesData] = useState(null);\n  const [showCounties, setShowCounties] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Center of contiguous US\n  const center = [39.8283, -98.5795];\n  const zoom = 4;\n\n  // Style for state boundaries\n  const stateStyle = {\n    color: '#000',\n    weight: 1,\n    opacity: 1,\n    fillOpacity: 0\n  };\n\n  // Style for county boundaries\n  const countyStyle = {\n    color: '#666',\n    weight: 0.5,\n    opacity: 1,\n    fillOpacity: 0\n  };\n  useEffect(() => {\n    try {\n      // Convert TopoJSON to GeoJSON\n      const statesGeoJSON = convertTopoToGeoStates(statesTopoJSON);\n      const countiesGeoJSON = convertTopoToGeoCounties(countiesTopoJSON);\n      setStatesData(statesGeoJSON);\n      setCountiesData(countiesGeoJSON);\n      setLoading(false);\n    } catch (err) {\n      setError('Failed to process map data');\n      console.error('Error processing map data:', err);\n      setLoading(false);\n    }\n  }, []);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading map data...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 12\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100vh',\n      width: '100%'\n    },\n    children: /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: center,\n      zoom: zoom,\n      style: {\n        height: '100%',\n        width: '100%'\n      },\n      zoomControl: true,\n      doubleClickZoom: true,\n      scrollWheelZoom: true,\n      dragging: true,\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), statesData && /*#__PURE__*/_jsxDEV(GeoJSON, {\n        data: statesData,\n        style: stateStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), showCounties && countiesData && /*#__PURE__*/_jsxDEV(GeoJSON, {\n        data: countiesData,\n        style: countyStyle\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ZoomHandler, {\n        setShowCounties: setShowCounties\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n}\n_s2(MapComponent, \"bh6/fUy2hifbtVH7qxYkwf/1s5A=\");\n_c2 = MapComponent;\nexport default MapComponent;\nvar _c, _c2;\n$RefreshReg$(_c, \"ZoomHandler\");\n$RefreshReg$(_c2, \"MapComponent\");","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","GeoJSON","useMapEvents","statesTopoJSON","countiesTopoJSON","convertTopoToGeoStates","convertTopoToGeoCounties","jsxDEV","_jsxDEV","ZoomHandler","setShowCounties","_s","mapEvents","zoomend","currentZoom","getZoom","_c","MapComponent","_s2","statesData","setStatesData","countiesData","setCountiesData","showCounties","loading","setLoading","error","setError","center","zoom","stateStyle","color","weight","opacity","fillOpacity","countyStyle","statesGeoJSON","countiesGeoJSON","err","console","children","fileName","_jsxFileName","lineNumber","columnNumber","style","height","width","zoomControl","doubleClickZoom","scrollWheelZoom","dragging","url","attribution","data","_c2","$RefreshReg$"],"sources":["/Users/brianbrown/Documents/AIDataVizApp/MapData/frontend/src/components/MapComponent.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, GeoJSON, useMapEvents } from 'react-leaflet';\n// Import TopoJSON data\nimport statesTopoJSON from '../data/us-states.json';\nimport countiesTopoJSON from '../data/us-counties.json';\n// Import conversion utilities\nimport { convertTopoToGeoStates, convertTopoToGeoCounties } from '../data/geoUtils';\n\n// Component to handle zoom events and control county visibility\nfunction ZoomHandler({ setShowCounties }) {\n  const mapEvents = useMapEvents({\n    zoomend: () => {\n      const currentZoom = mapEvents.getZoom();\n      setShowCounties(currentZoom >= 6);\n    }\n  });\n  \n  return null;\n}\n\nfunction MapComponent() {\n  const [statesData, setStatesData] = useState(null);\n  const [countiesData, setCountiesData] = useState(null);\n  const [showCounties, setShowCounties] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Center of contiguous US\n  const center = [39.8283, -98.5795];\n  const zoom = 4;\n\n  // Style for state boundaries\n  const stateStyle = {\n    color: '#000',\n    weight: 1,\n    opacity: 1,\n    fillOpacity: 0\n  };\n\n  // Style for county boundaries\n  const countyStyle = {\n    color: '#666',\n    weight: 0.5,\n    opacity: 1,\n    fillOpacity: 0\n  };\n\n  useEffect(() => {\n    try {\n      // Convert TopoJSON to GeoJSON\n      const statesGeoJSON = convertTopoToGeoStates(statesTopoJSON);\n      const countiesGeoJSON = convertTopoToGeoCounties(countiesTopoJSON);\n      \n      setStatesData(statesGeoJSON);\n      setCountiesData(countiesGeoJSON);\n      setLoading(false);\n    } catch (err) {\n      setError('Failed to process map data');\n      console.error('Error processing map data:', err);\n      setLoading(false);\n    }\n  }, []);\n\n  if (loading) {\n    return <div>Loading map data...</div>;\n  }\n\n  if (error) {\n    return <div>Error: {error}</div>;\n  }\n\n  return (\n    <div style={{ height: '100vh', width: '100%' }}>\n      <MapContainer\n        center={center}\n        zoom={zoom}\n        style={{ height: '100%', width: '100%' }}\n        zoomControl={true}\n        doubleClickZoom={true}\n        scrollWheelZoom={true}\n        dragging={true}\n      >\n        <TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n        />\n        \n        {/* Render states GeoJSON */}\n        {statesData && (\n          <GeoJSON \n            data={statesData} \n            style={stateStyle}\n          />\n        )}\n        \n        {/* Render counties GeoJSON only when zoomed in */}\n        {showCounties && countiesData && (\n          <GeoJSON \n            data={countiesData} \n            style={countyStyle}\n          />\n        )}\n        \n        {/* Component to handle zoom events */}\n        <ZoomHandler setShowCounties={setShowCounties} />\n      </MapContainer>\n    </div>\n  );\n}\n\nexport default MapComponent; "],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,YAAY,EAAEC,SAAS,EAAEC,OAAO,EAAEC,YAAY,QAAQ,eAAe;AAC9E;AACA,OAAOC,cAAc,MAAM,wBAAwB;AACnD,OAAOC,gBAAgB,MAAM,0BAA0B;AACvD;AACA,SAASC,sBAAsB,EAAEC,wBAAwB,QAAQ,kBAAkB;;AAEnF;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,SAASC,WAAWA,CAAC;EAAEC;AAAgB,CAAC,EAAE;EAAAC,EAAA;EACxC,MAAMC,SAAS,GAAGV,YAAY,CAAC;IAC7BW,OAAO,EAAEA,CAAA,KAAM;MACb,MAAMC,WAAW,GAAGF,SAAS,CAACG,OAAO,CAAC,CAAC;MACvCL,eAAe,CAACI,WAAW,IAAI,CAAC,CAAC;IACnC;EACF,CAAC,CAAC;EAEF,OAAO,IAAI;AACb;AAACH,EAAA,CATQF,WAAW;EAAA,QACAP,YAAY;AAAA;AAAAc,EAAA,GADvBP,WAAW;AAWpB,SAASQ,YAAYA,CAAA,EAAG;EAAAC,GAAA;EACtB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACwB,YAAY,EAAEC,eAAe,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAAC0B,YAAY,EAAEb,eAAe,CAAC,GAAGb,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAAC2B,OAAO,EAAEC,UAAU,CAAC,GAAG5B,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAAC6B,KAAK,EAAEC,QAAQ,CAAC,GAAG9B,QAAQ,CAAC,IAAI,CAAC;;EAExC;EACA,MAAM+B,MAAM,GAAG,CAAC,OAAO,EAAE,CAAC,OAAO,CAAC;EAClC,MAAMC,IAAI,GAAG,CAAC;;EAEd;EACA,MAAMC,UAAU,GAAG;IACjBC,KAAK,EAAE,MAAM;IACbC,MAAM,EAAE,CAAC;IACTC,OAAO,EAAE,CAAC;IACVC,WAAW,EAAE;EACf,CAAC;;EAED;EACA,MAAMC,WAAW,GAAG;IAClBJ,KAAK,EAAE,MAAM;IACbC,MAAM,EAAE,GAAG;IACXC,OAAO,EAAE,CAAC;IACVC,WAAW,EAAE;EACf,CAAC;EAEDpC,SAAS,CAAC,MAAM;IACd,IAAI;MACF;MACA,MAAMsC,aAAa,GAAG/B,sBAAsB,CAACF,cAAc,CAAC;MAC5D,MAAMkC,eAAe,GAAG/B,wBAAwB,CAACF,gBAAgB,CAAC;MAElEgB,aAAa,CAACgB,aAAa,CAAC;MAC5Bd,eAAe,CAACe,eAAe,CAAC;MAChCZ,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOa,GAAG,EAAE;MACZX,QAAQ,CAAC,4BAA4B,CAAC;MACtCY,OAAO,CAACb,KAAK,CAAC,4BAA4B,EAAEY,GAAG,CAAC;MAChDb,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,IAAID,OAAO,EAAE;IACX,oBAAOhB,OAAA;MAAAgC,QAAA,EAAK;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EACvC;EAEA,IAAIlB,KAAK,EAAE;IACT,oBAAOlB,OAAA;MAAAgC,QAAA,GAAK,SAAO,EAACd,KAAK;IAAA;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAClC;EAEA,oBACEpC,OAAA;IAAKqC,KAAK,EAAE;MAAEC,MAAM,EAAE,OAAO;MAAEC,KAAK,EAAE;IAAO,CAAE;IAAAP,QAAA,eAC7ChC,OAAA,CAACT,YAAY;MACX6B,MAAM,EAAEA,MAAO;MACfC,IAAI,EAAEA,IAAK;MACXgB,KAAK,EAAE;QAAEC,MAAM,EAAE,MAAM;QAAEC,KAAK,EAAE;MAAO,CAAE;MACzCC,WAAW,EAAE,IAAK;MAClBC,eAAe,EAAE,IAAK;MACtBC,eAAe,EAAE,IAAK;MACtBC,QAAQ,EAAE,IAAK;MAAAX,QAAA,gBAEfhC,OAAA,CAACR,SAAS;QACRoD,GAAG,EAAC,oDAAoD;QACxDC,WAAW,EAAC;MAAyF;QAAAZ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtG,CAAC,EAGDzB,UAAU,iBACTX,OAAA,CAACP,OAAO;QACNqD,IAAI,EAAEnC,UAAW;QACjB0B,KAAK,EAAEf;MAAW;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnB,CACF,EAGArB,YAAY,IAAIF,YAAY,iBAC3Bb,OAAA,CAACP,OAAO;QACNqD,IAAI,EAAEjC,YAAa;QACnBwB,KAAK,EAAEV;MAAY;QAAAM,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACpB,CACF,eAGDpC,OAAA,CAACC,WAAW;QAACC,eAAe,EAAEA;MAAgB;QAAA+B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACZ,CAAC;AAEV;AAAC1B,GAAA,CAxFQD,YAAY;AAAAsC,GAAA,GAAZtC,YAAY;AA0FrB,eAAeA,YAAY;AAAC,IAAAD,EAAA,EAAAuC,GAAA;AAAAC,YAAA,CAAAxC,EAAA;AAAAwC,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}